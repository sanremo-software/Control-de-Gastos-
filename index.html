<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Sanremo Profi Torten-Projektor</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico&family=Dancing+Script:wght@400..700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Lobster&family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: #000;
      color: white;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      touch-action: pan-y pinch-zoom;
    }

    /* LAYOUT PRINCIPAL */
    .app {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    /* √ÅREA DA C√ÇMARA + PROJE√á√ÉO */
    .camera-area {
      position: relative;
      flex: 1;
      width: 100%;
      background: #000;
      overflow: hidden;
    }

    #camera-feed {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* CANVAS DE PROJE√á√ÉO - ONDE TUDO ACONTECE */
    #projector-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 20;
      pointer-events: none;
    }

    /* BOT√ÉO FLUTUANTE PARA ABRIR MENU */
    .menu-button {
      position: absolute;
      bottom: 120px;
      right: 20px;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: #FFD700;
      color: black;
      border: none;
      font-size: 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      z-index: 50;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    /* PAINEL DE CONTROLO DESLIZANTE */
    .control-panel {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(20, 20, 20, 0.95);
      backdrop-filter: blur(20px);
      border-top: 3px solid #FFD700;
      padding: 25px 20px;
      transform: translateY(100%);
      transition: transform 0.3s ease;
      z-index: 100;
      max-height: 80vh;
      overflow-y: auto;
      border-radius: 30px 30px 0 0;
    }

    .control-panel.open {
      transform: translateY(0);
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .panel-header h2 {
      color: #FFD700;
      font-size: 24px;
    }

    .close-btn {
      background: none;
      border: none;
      color: white;
      font-size: 30px;
      cursor: pointer;
    }

    /* SE√á√ïES DO PAINEL */
    .panel-section {
      margin-bottom: 30px;
      border-bottom: 1px solid #333;
      padding-bottom: 20px;
    }

    .section-title {
      color: #FFD700;
      font-size: 18px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .input-group {
      margin-bottom: 15px;
    }

    .input-group label {
      display: block;
      color: #aaa;
      margin-bottom: 5px;
      font-size: 14px;
    }

    input[type="text"], select {
      width: 100%;
      padding: 15px;
      border-radius: 15px;
      border: 1px solid #444;
      background: #333;
      color: white;
      font-size: 18px;
    }

    input[type="range"] {
      width: 100%;
      height: 8px;
      -webkit-appearance: none;
      background: linear-gradient(to right, #FFD700, #FFA500);
      border-radius: 10px;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 28px;
      height: 28px;
      background: white;
      border-radius: 50%;
      border: 2px solid #FFD700;
      cursor: pointer;
    }

    .range-value {
      display: inline-block;
      margin-left: 10px;
      color: #FFD700;
      font-weight: bold;
    }

    .button-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .btn {
      padding: 15px;
      border-radius: 15px;
      border: none;
      background: #333;
      color: white;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.2s;
    }

    .btn:active {
      transform: scale(0.95);
    }

    .btn-primary {
      background: #FFD700;
      color: black;
    }

    .btn-active {
      background: #FFD700;
      color: black;
      border: 2px solid white;
    }

    .motif-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .motif-item {
      background: #333;
      border-radius: 15px;
      padding: 15px 5px;
      text-align: center;
      color: white;
      font-size: 14px;
      cursor: pointer;
      border: 2px solid transparent;
    }

    .motif-item.selected {
      border-color: #FFD700;
      background: #444;
    }

    .motif-item i {
      font-size: 30px;
      display: block;
      margin-bottom: 5px;
      color: #FFD700;
    }

    .color-row {
      display: flex;
      gap: 10px;
      margin: 15px 0;
      flex-wrap: wrap;
    }

    .color-option {
      width: 50px;
      height: 50px;
      border-radius: 25px;
      cursor: pointer;
      border: 3px solid transparent;
    }

    .color-option.selected {
      border-color: white;
    }

    /* INDICADOR DE MODO */
    .mode-indicator {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(0,0,0,0.7);
      padding: 10px 20px;
      border-radius: 40px;
      color: #FFD700;
      font-weight: bold;
      z-index: 30;
      border: 1px solid #FFD700;
      backdrop-filter: blur(5px);
    }

    /* MENSAGEM DE AJUDA */
    .help-message {
      position: absolute;
      bottom: 200px;
      left: 20px;
      right: 20px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 15px;
      border-radius: 30px;
      text-align: center;
      border-left: 5px solid #FFD700;
      z-index: 25;
      font-size: 14px;
    }

    /* ANIMA√á√ïES */
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    .pulse {
      animation: pulse 2s infinite;
    }
  </style>
</head>
<body>
<div class="app">
  <!-- C√ÇMARA -->
  <div class="camera-area">
    <video id="camera-feed" autoplay playsinline></video>
    <canvas id="projector-canvas"></canvas>
    
    <!-- INDICADOR DE MODO -->
    <div class="mode-indicator" id="modeIndicator">
      ‚ö™ NORMAL
    </div>

    <!-- MENSAGEM DE AJUDA INICIAL -->
    <div class="help-message" id="helpMessage">
      üëÜ Toque no bot√£o amarelo para abrir o menu
    </div>
  </div>

  <!-- BOT√ÉO MENU -->
  <button class="menu-button" id="menuBtn">‚úèÔ∏è</button>

  <!-- PAINEL DE CONTROLO -->
  <div class="control-panel" id="controlPanel">
    <div class="panel-header">
      <h2>üéÇ Torten-Projektor Pro</h2>
      <button class="close-btn" id="closeBtn">‚úï</button>
    </div>

    <!-- SE√á√ÉO 1: TEXTO PRINCIPAL -->
    <div class="panel-section">
      <div class="section-title">
        <span>‚úèÔ∏è 1. Texto principal</span>
      </div>
      
      <div class="input-group">
        <label>Escreva aqui:</label>
        <input type="text" id="textInput" value="Parab√©ns!" placeholder="Ex: Parab√©ns, Feliz Anivers√°rio, etc...">
      </div>

      <div class="input-group">
        <label>Fonte:</label>
        <select id="fontSelect">
          <option value="'Great Vibes'">Great Vibes (elegante)</option>
          <option value="'Pacifico'">Pacifico (divertido)</option>
          <option value="'Dancing Script'">Dancing Script (moderno)</option>
          <option value="'Lobster'">Lobster (chamativo)</option>
          <option value="'Playfair Display'">Playfair Display (cl√°ssico)</option>
          <option value="'Comic Neue'">Comic Neue (infantil)</option>
          <option value="Arial">Arial (simples)</option>
        </select>
      </div>

      <div class="input-group">
        <label>Tamanho: <span id="sizeValue" class="range-value">80</span></label>
        <input type="range" id="sizeSlider" min="30" max="200" value="80">
      </div>

      <div class="input-group">
        <label>Posi√ß√£o Y: <span id="yValue" class="range-value">0</span></label>
        <input type="range" id="ySlider" min="-300" max="300" value="0">
      </div>
    </div>

    <!-- SE√á√ÉO 2: IDADE (OPCIONAL) -->
    <div class="panel-section">
      <div class="section-title">
        <span>üéÇ 2. Idade (opcional)</span>
      </div>

      <div class="input-group">
        <label>Idade:</label>
        <select id="ageSelect">
          <option value="0">Nenhuma</option>
          <option value="1">1 ano</option>
          <option value="2">2 anos</option>
          <option value="3">3 anos</option>
          <option value="4">4 anos</option>
          <option value="5">5 anos</option>
          <option value="6">6 anos</option>
          <option value="7">7 anos</option>
          <option value="8">8 anos</option>
          <option value="9">9 anos</option>
          <option value="10">10 anos</option>
          <option value="18">18 anos</option>
          <option value="30">30 anos</option>
          <option value="40">40 anos</option>
          <option value="50">50 anos</option>
          <option value="60">60 anos</option>
        </select>
      </div>

      <div class="input-group">
        <label>Tamanho da idade: <span id="ageSizeValue" class="range-value">100</span></label>
        <input type="range" id="ageSizeSlider" min="40" max="250" value="100">
      </div>

      <div class="input-group">
        <label>Posi√ß√£o Y idade: <span id="ageYValue" class="range-value">-50</span></label>
        <input type="range" id="ageYSlider" min="-300" max="300" value="-50">
      </div>
    </div>

    <!-- SE√á√ÉO 3: MOTIVOS INFANTIS -->
    <div class="panel-section">
      <div class="section-title">
        <span>ü¶Ñ 3. Motivos infantis</span>
      </div>

      <div class="motif-grid" id="motifGrid">
        <div class="motif-item" data-motif="none">
          <span style="font-size:30px;">üö´</span>
          Nenhum
        </div>
        <div class="motif-item" data-motif="heart">
          <span style="font-size:30px;">‚ù§Ô∏è</span>
          Cora√ß√£o
        </div>
        <div class="motif-item" data-motif="star">
          <span style="font-size:30px;">‚≠ê</span>
          Estrela
        </div>
        <div class="motif-item" data-motif="unicorn">
          <span style="font-size:30px;">ü¶Ñ</span>
          Unic√≥rnio
        </div>
        <div class="motif-item" data-motif="dino">
          <span style="font-size:30px;">ü¶ñ</span>
          Dinossauro
        </div>
        <div class="motif-item" data-motif="bear">
          <span style="font-size:30px;">üêª</span>
          Urso
        </div>
        <div class="motif-item" data-motif="car">
          <span style="font-size:30px;">üöó</span>
          Carro
        </div>
        <div class="motif-item" data-motif="ball">
          <span style="font-size:30px;">‚öΩ</span>
          Bola
        </div>
        <div class="motif-item" data-motif="cake">
          <span style="font-size:30px;">üéÇ</span>
          Bolo
        </div>
      </div>

      <div class="input-group">
        <label>Tamanho motivo: <span id="motifSizeValue" class="range-value">80</span></label>
        <input type="range" id="motifSizeSlider" min="30" max="200" value="80">
      </div>

      <div class="input-group">
        <label>Posi√ß√£o Y motivo: <span id="motifYValue" class="range-value">-100</span></label>
        <input type="range" id="motifYSlider" min="-300" max="300" value="-100">
      </div>
    </div>

    <!-- SE√á√ÉO 4: CORES E MODO SOMBRA -->
    <div class="panel-section">
      <div class="section-title">
        <span>üé® 4. Cores e Modo Sombra</span>
      </div>

      <div class="color-row">
        <div class="color-option" style="background: #FFD700;" data-color="#FFD700"></div>
        <div class="color-option" style="background: #FF0000;" data-color="#FF0000"></div>
        <div class="color-option" style="background: #00FF00;" data-color="#00FF00"></div>
        <div class="color-option" style="background: #0000FF;" data-color="#0000FF"></div>
        <div class="color-option" style="background: #FF00FF;" data-color="#FF00FF"></div>
        <div class="color-option" style="background: #00FFFF;" data-color="#00FFFF"></div>
        <div class="color-option" style="background: #FFFFFF;" data-color="#FFFFFF"></div>
      </div>

      <div class="button-grid">
        <button class="btn btn-primary" id="shadowToggle">üåô ATIVAR SOMBRA</button>
        <button class="btn" id="resetBtn">‚ü≤ RESET</button>
      </div>

      <div style="margin-top: 15px; text-align: center; color: #FFD700; font-size: 14px;">
        <span id="wakeLockStatus">‚ö° Ecr√£ sempre ligado (ativo)</span>
      </div>
    </div>

    <!-- SE√á√ÉO 5: INFO E AJUDA -->
    <div class="panel-section">
      <div style="background: #222; padding: 15px; border-radius: 15px; text-align: center;">
        <p style="color: #FFD700; margin-bottom: 5px;">üç´ Como usar:</p>
        <p style="color: #aaa; font-size: 14px;">1. Aponte a c√¢mara para o bolo<br>2. Ajuste o texto/motivo<br>3. Ative o modo sombra<br>4. Escreva por cima com chocolate</p>
      </div>
    </div>
  </div>
</div>

<script>
  // ===== ELEMENTOS =====
  const video = document.getElementById('camera-feed');
  const canvas = document.getElementById('projector-canvas');
  const ctx = canvas.getContext('2d');
  
  // ===== ESTADO DA APLICA√á√ÉO =====
  const state = {
    shadowMode: false,
    text: "Parab√©ns!",
    font: "'Great Vibes'",
    textSize: 80,
    textY: 0,
    
    age: 0,
    ageSize: 100,
    ageY: -50,
    
    motif: "none",
    motifSize: 80,
    motifY: -100,
    
    color: "#FFD700"
  };
  
  // ===== INICIAR C√ÇMARA =====
  async function initCamera() {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({
        video: {
          facingMode: 'environment',
          width: { ideal: 1920 },
          height: { ideal: 1080 }
        }
      });
      video.srcObject = stream;
      
      video.onloadedmetadata = () => {
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        video.play();
        drawLoop();
      };
    } catch (err) {
      alert('Erro: N√£o foi poss√≠vel aceder √† c√¢mara. Por favor, permita o acesso.');
    }
  }
  
  // ===== LOOP DE DESENHO =====
  function drawLoop() {
    drawProjection();
    requestAnimationFrame(drawLoop);
  }
  
  function drawProjection() {
    // Limpar canvas (deixar transparente)
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // Centro do ecr√£
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const radius = Math.min(canvas.width, canvas.height) * 0.3;
    
    // CONFIGURAR ESTILO (MODO SOMBRA vs NORMAL)
    if (state.shadowMode) {
      ctx.strokeStyle = state.color;
      ctx.fillStyle = state.color;
      ctx.shadowColor = state.color;
      ctx.shadowBlur = 25;
      ctx.lineWidth = 12;
    } else {
      ctx.strokeStyle = '#FFFFFF';
      ctx.fillStyle = '#FFFFFF';
      ctx.shadowColor = '#000000';
      ctx.shadowBlur = 10;
      ctx.lineWidth = 8;
    }
    
    ctx.shadowOffsetX = 0;
    ctx.shadowOffsetY = 0;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    
    // ===== 1. DESENHAR C√çRCULO GUIA =====
    ctx.beginPath();
    ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
    ctx.stroke();
    
    // Segundo c√≠rculo (mais fino)
    ctx.beginPath();
    ctx.arc(centerX, centerY, radius * 0.95, 0, Math.PI * 2);
    ctx.strokeStyle = state.shadowMode ? state.color : '#CCCCCC';
    ctx.stroke();
    
    // Linhas de centro (t√©nues)
    ctx.globalAlpha = 0.2;
    ctx.beginPath();
    ctx.moveTo(centerX, centerY - radius * 1.2);
    ctx.lineTo(centerX, centerY + radius * 1.2);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(centerX - radius * 1.2, centerY);
    ctx.lineTo(centerX + radius * 1.2, centerY);
    ctx.stroke();
    ctx.globalAlpha = 1;
    
    // ===== 2. DESENHAR MOTIVO =====
    if (state.motif !== 'none') {
      ctx.font = `${state.motifSize}px "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif`;
      ctx.fillStyle = state.shadowMode ? state.color : '#FFFFFF';
      
      let emoji = '';
      switch(state.motif) {
        case 'heart': emoji = '‚ù§Ô∏è'; break;
        case 'star': emoji = '‚≠ê'; break;
        case 'unicorn': emoji = 'ü¶Ñ'; break;
        case 'dino': emoji = 'ü¶ñ'; break;
        case 'bear': emoji = 'üêª'; break;
        case 'car': emoji = 'üöó'; break;
        case 'ball': emoji = '‚öΩ'; break;
        case 'cake': emoji = 'üéÇ'; break;
      }
      
      ctx.fillText(emoji, centerX, centerY + state.motifY);
    }
    
    // ===== 3. DESENHAR IDADE =====
    if (state.age > 0) {
      ctx.font = `bold ${state.ageSize}px Arial`;
      ctx.fillStyle = state.shadowMode ? state.color : '#FFFFFF';
      ctx.globalAlpha = 0.4;
      ctx.fillText(state.age.toString(), centerX, centerY + state.ageY);
      ctx.globalAlpha = 1;
    }
    
    // ===== 4. DESENHAR TEXTO PRINCIPAL =====
    ctx.font = `${state.textSize}px ${state.font}`;
    ctx.fillStyle = state.shadowMode ? state.color : '#FFFFFF';
    ctx.fillText(state.text, centerX, centerY + state.textY);
  }
  
  // ===== WAKE LOCK (ECR√É SEMPRE LIGADO) =====
  let wakeLock = null;
  
  async function requestWakeLock() {
    try {
      if ('wakeLock' in navigator) {
        wakeLock = await navigator.wakeLock.request('screen');
        document.getElementById('wakeLockStatus').innerHTML = '‚ö° Ecr√£ sempre ligado (ativo)';
      }
    } catch (err) {
      console.log('Wake Lock error:', err);
    }
  }
  
  async function releaseWakeLock() {
    try {
      if (wakeLock) {
        await wakeLock.release();
        wakeLock = null;
        document.getElementById('wakeLockStatus').innerHTML = '‚ö° Ecr√£ sempre ligado (dispon√≠vel)';
      }
    } catch (err) {}
  }
  
  // ===== CONTROLO DO PAINEL =====
  const panel = document.getElementById('controlPanel');
  const menuBtn = document.getElementById('menuBtn');
  const closeBtn = document.getElementById('closeBtn');
  
  menuBtn.addEventListener('click', () => {
    panel.classList.add('open');
  });
  
  closeBtn.addEventListener('click', () => {
    panel.classList.remove('open');
  });
  
  // Fechar ao clicar fora
  document.addEventListener('click', (e) => {
    if (!panel.contains(e.target) && !menuBtn.contains(e.target) && panel.classList.contains('open')) {
      panel.classList.remove('open');
    }
  });
  
  // ===== EVENTOS DOS CONTROLES =====
  
  // Texto
  document.getElementById('textInput').addEventListener('input', (e) => {
    state.text = e.target.value;
  });
  
  document.getElementById('fontSelect').addEventListener('change', (e) => {
    state.font = e.target.value;
  });
  
  document.getElementById('sizeSlider').addEventListener('input', (e) => {
    state.textSize = parseInt(e.target.value);
    document.getElementById('sizeValue').innerText = state.textSize;
  });
  
  document.getElementById('ySlider').addEventListener('input', (e) => {
    state.textY = parseInt(e.target.value);
    document.getElementById('yValue').innerText = state.textY;
  });
  
  // Idade
  document.getElementById('ageSelect').addEventListener('change', (e) => {
    state.age = parseInt(e.target.value);
  });
  
  document.getElementById('ageSizeSlider').addEventListener('input', (e) => {
    state.ageSize = parseInt(e.target.value);
    document.getElementById('ageSizeValue').innerText = state.ageSize;
  });
  
  document.getElementById('ageYSlider').addEventListener('input', (e) => {
    state.ageY = parseInt(e.target.value);
    document.getElementById('ageYValue').innerText = state.ageY;
  });
  
  // Motivos
  document.querySelectorAll('.motif-item').forEach(item => {
    item.addEventListener('click', () => {
      document.querySelectorAll('.motif-item').forEach(i => i.classList.remove('selected'));
      item.classList.add('selected');
      state.motif = item.dataset.motif;
    });
  });
  
  document.getElementById('motifSizeSlider').addEventListener('input', (e) => {
    state.motifSize = parseInt(e.target.value);
    document.getElementById('motifSizeValue').innerText = state.motifSize;
  });
  
  document.getElementById('motifYSlider').addEventListener('input', (e) => {
    state.motifY = parseInt(e.target.value);
    document.getElementById('motifYValue').innerText = state.motifY;
  });
  
  // Cores
  document.querySelectorAll('.color-option').forEach(option => {
    option.addEventListener('click', () => {
      document.querySelectorAll('.color-option').forEach(o => o.classList.remove('selected'));
      option.classList.add('selected');
      state.color = option.dataset.color;
    });
  });
  
  // Modo Sombra
  document.getElementById('shadowToggle').addEventListener('click', () => {
    state.shadowMode = !state.shadowMode;
    const btn = document.getElementById('shadowToggle');
    const indicator = document.getElementById('modeIndicator');
    
    if (state.shadowMode) {
      btn.innerHTML = '‚òÄÔ∏è DESATIVAR SOMBRA';
      btn.style.background = '#333';
      btn.style.color = '#FFD700';
      indicator.innerHTML = 'üåô MODO SOMBRA ATIVO';
      indicator.style.color = '#FFD700';
      requestWakeLock();
      
      // Esconder mensagem de ajuda
      document.getElementById('helpMessage').style.display = 'none';
    } else {
      btn.innerHTML = 'üåô ATIVAR SOMBRA';
      btn.style.background = '#FFD700';
      btn.style.color = 'black';
      indicator.innerHTML = '‚ö™ NORMAL';
      indicator.style.color = '#FFD700';
      releaseWakeLock();
    }
  });
  
  // Reset
  document.getElementById('resetBtn').addEventListener('click', () => {
    state.text = "Parab√©ns!";
    state.font = "'Great Vibes'";
    state.textSize = 80;
    state.textY = 0;
    state.age = 0;
    state.ageSize = 100;
    state.ageY = -50;
    state.motif = "none";
    state.motifSize = 80;
    state.motifY = -100;
    state.color = "#FFD700";
    
    // Atualizar UI
    document.getElementById('textInput').value = "Parab√©ns!";
    document.getElementById('fontSelect').value = "'Great Vibes'";
    document.getElementById('sizeSlider').value = 80;
    document.getElementById('sizeValue').innerText = "80";
    document.getElementById('ySlider').value = 0;
    document.getElementById('yValue').innerText = "0";
    document.getElementById('ageSelect').value = "0";
    document.getElementById('ageSizeSlider').value = 100;
    document.getElementById('ageSizeValue').innerText = "100";
    document.getElementById('ageYSlider').value = -50;
    document.getElementById('ageYValue').innerText = "-50";
    document.getElementById('motifSizeSlider').value = 80;
    document.getElementById('motifSizeValue').innerText = "80";
    document.getElementById('motifYSlider').value = -100;
    document.getElementById('motifYValue').innerText = "-100";
    
    document.querySelectorAll('.motif-item').forEach(i => i.classList.remove('selected'));
    document.querySelector('[data-motif="none"]').classList.add('selected');
    
    document.querySelectorAll('.color-option').forEach(o => o.classList.remove('selected'));
    document.querySelector('[data-color="#FFD700"]').classList.add('selected');
  });
  
  // Iniciar
  initCamera();
  requestWakeLock();
  
  // Selecionar cor inicial
  document.querySelector('[data-color="#FFD700"]').classList.add('selected');
  document.querySelector('[data-motif="none"]').classList.add('selected');
</script>
</body>
</html>
